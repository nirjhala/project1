(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{471:function(e,t,a){"use strict";a.r(t);var r=a(2),i=a(10),s=a.n(i),o=a(1),l=r.helpers.regex("aplpha",/^[A-Za-z ]*$/i),n={components:{Multiselect:s.a},props:["image_src","image"],data:function(){return{id:"",user:{mobile:"",login:"",password:"",title:"Mr.",fname:"",lname:"",name:"",dob:"",gender:"Male",email:"",address1:"",address2:"",city_id:"",pin_code:"",image:"",role:""},student:{reg_no:"",roll_no:"",blood_group:"",category:"",religion:"",cast:"",section:"",admission_date:"",signature:""},parent:{father:"",mother:"",guardian:"",guardian_relation:""},user_certificates:{},father:{},mother:{},guardian:{},relation:"",relation_name:"",parentName:"",parentMobile:"",parentPassword:"",parentType:"other",guardians:[{father:[],mother:[],other:[],all:[]}],roles:[],states:[],pincodes:[],religions:[],classes:[],sections:[],certificates:[],errors:[],loaded:0,token:localStorage.getItem("token")}},validations:{user:{login:{required:r.required},password:{requiredIf:Object(r.requiredIf)((function(){return!this.$route.params.id}))},title:{required:r.required},fname:{required:r.required,alphaOnly:l},lname:{alphaOnly:l},name:{required:r.required},dob:{required:r.required},email:{email:r.email},gender:{required:r.required},mobile:{required:r.required,mobileNo:function(e){return/[0-9]{10}/.test(e)&&10==e.length},maxLength:Object(r.maxLength)(10)},address1:{required:r.required},city_id:{required:r.required},pin_code:{required:r.required,isPincode:function(e){return 0==e.length||6==e.length&&/[0-9]{6}/.test(e)}}},student:{reg_no:{required:r.required},category:{required:r.required},religion:{required:r.required},cast:{required:r.required},section:{required:r.required}},father:{required:r.required},mother:{required:r.required},guardian:{required:r.required},relation:{required:r.required},parent:{guardian_relation:{required:r.required}}},mounted:function(){this.firstLoad()},methods:{validateState:function(e,t){var a=this.$v[e][t],r=a.$dirty,i=a.$error;return r?!i:null},handleFile:function(e){var t=this,a=e.target.getAttribute("data-id"),r=new FormData;r.append("user_id",this.id),r.append("certificate_id",a),r.append("file",e.target.files[0]),Object(o.b)(r).then((function(e){t.$toast.success("File uploaded.")})).catch((function(e){console.log("Errors: ",e)}))},firstLoad:function(){var e=this.$route.params;this.getStates(),null!=e.id&&""!=e.id?(this.getInfo(e.id),this.getReligions(),this.getClasses(),this.getParents(),this.fetchCertificates(),this.id=e.id):this.loaded=1},scrollToSection:function(e){var t=this.$el.querySelector(e);t.scrollTop=t.scrollHeight},nameWithMobile:function(e){var t=e.name,a=e.mobile;return"".concat(t," â€” ").concat(a)},changeRelationName:function(){this.guardians.all=this.guardians[this.relation],"other"!=this.relation?this.parent.guardian_relation=this.relation:this.parent.guardian_relation=""},fillName:function(){this.user.name=(this.user.title+" "+this.user.fname+" "+this.user.lname).trim()},fillPassword:function(){this.password=$("#generatedPassword").val(),$("#generatePasswordModal").modal("hide")},fetchCertificates:function(){var e=this;Object(o.ec)("student").then((function(t){e.certificates=t.data}))},getRoles:function(){var e=this;axios.create({baseURL:this.apiBaseUrl,headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}}).get("get-all-roles").then((function(t){e.roles=t.data}))},getStates:function(){var e=this;Object(o.cc)().then((function(t){e.states=t.data}))},getClasses:function(){var e=this;Object(o.Zb)().then((function(t){e.classes=t.data}))},openParentModal:function(e){this.parentType=e,$("#guardianModal").modal("show")},addParent:function(){var e=$("#guardianModal form"),t=this.parentName,a=this.parentMobile,r=this.parentPassword,i=this.parentType,s={name:t,mobile:a,password:r,type:i},o=e.is_valid(),l=this;o&&axios.create({baseURL:this.apiBaseUrl,headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}}).post("parent/add",s).then((function(e){var t=e.data.id;l.guardians.all=e.data.list.all,"father"==i?(l.guardians.father=e.data.list.father,l.father=t):"mother"==i?(l.guardians.mother=e.data.list.mother,l.mother=t):"other"==i&&(l.guardians.all=e.data.list.other,l.guardian=t),l.parentName="",l.parentMobile="",l.parentPassword="",$("#guardianModal").modal("hide")}))},getParents:function(){var e=this;axios.create({baseURL:this.apiBaseUrl,headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}}).get("parent").then((function(t){e.guardians=t.data}))},getReligions:function(){var e=this;axios.create({baseURL:this.apiBaseUrl,headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}}).get("get-all-religions").then((function(t){e.religions=t.data}))},getInfo:function(e){var t=this;Object(o.Ub)(e).then((function(e){t.user=e.data.user,t.student.reg_no=e.data.reg_no,t.student.roll_no=e.data.roll_no,t.student.blood_group=e.data.blood_group,t.student.category=e.data.category,t.student.religion=e.data.religion,t.student.cast=e.data.cast,t.student.category=e.data.category,t.student.section=e.data.section,t.father=e.data.father_info,t.mother=e.data.mother_info,t.guardian=e.data.guardian_info,t.parent.father=e.data.father,t.parent.mother=e.data.mother,t.parent.guardian=e.data.guardian,t.parent.guardian_relation=e.data.guardian_relation;var a=null!=e.data.guardian_relation?e.data.guardian_relation.toLowerCase():"";t.relation="father"==a||"mother"==a?a:"other",e.data.user.documents.length&&e.data.user.documents.forEach((function(e,a){t.user_certificates[e.certificate_id]=e.file_url}));var r=null!=e.data.user.image?e.data.user.image:"",i=e.data.media?e.data.media.image_url.medium:t.baseURL+"/img/default.jpg";t.$emit("update-image_src-selected",i),t.$emit("update-image-selected",r),t.loaded=1,console.log("Student",t.student)}))},addUser:function(){var e=this;if(this.$v.user.$reset(),this.$v.user.$touch(),this.$v.user.$anyError)return!1;this.loading=!0,Object(o.a)({user:this.user}).then((function(t){e.$router.push({name:"EditStudent",params:{id:t.data.id}})})).catch((function(t){e.loading=!1,console.log("Error: ",t)}))},updateUser:function(){var e=this;if(this.$v.user.$reset(),this.$v.user.$touch(),console.log("errors",this.$v.user.$anyError),this.$v.user.$anyError)return!1;this.loading=!0,Object(o.Vb)(this.$route.params.id,{_method:"PUT",user:this.user}).then((function(t){e.$router.push({name:"EditStudent",params:{id:t.data.id}})})).catch((function(t){e.loading=!1,console.log("Error: ",t)}))},updateStudent:function(){var e=this;if(this.$v.student.$reset(),this.$v.student.$touch(),this.$v.student.$anyError)return!1;var t={_method:"put",student:this.student};this.loading=!0,Object(o.Vb)(this.$route.params.id,t).then((function(t){e.loading=!1,e.$toast.success(t.data.message)})).catch((function(t){e.loading=!1,e.$toast.error(t)}))},updateParentInfo:function(){var e=this;if(this.$v.$reset(),this.$v.parent.$touch(),this.$v.father.$touch(),this.$v.mother.$touch(),this.$v.guardian.$touch(),this.$v.parent.$anyError&&this.$v.father.$anyError&&this.$v.mother.$anyError&&this.$v.guardian.$anyError)return!1;var t={_method:"put",student:{father:this.father.id?this.father.id:"",mother:this.mother.id?this.mother.id:"",guardian:this.guardian.id?this.guardian.id:"",guardian_relation:this.parent.guardian_relation}};Object(o.Vb)(this.$route.params.id,t).then((function(t){e.$toast.success(t.data.message)})).catch((function(t){e.$toast.error(t)}))},updateData:function(){var e=this,t=this.father.id?this.father.id:"",a=this.mother.id?this.mother.id:"",r=this.guardian.id?this.guardian.id:"",i={id:this.id,user:{title:this.title,fname:this.fname,lname:this.lname,name:this.name,mobile:this.mobile,email:this.email,gender:this.gender,dob:this.dob,image:this.image,address1:this.address1,address2:this.address2,pin_code:this.pin_code,city_id:this.city,role:this.role,login:this.login,password:this.password},student:{reg_no:this.reg_no,roll_no:this.roll_no,blood_group:this.blood_group,category:this.category,religion:this.religion,cast:this.cast,section:this.section,father:t,mother:a,guardian:r,guardian_relation:this.relation_name}};this.loaded=0,axios.create({baseURL:this.apiBaseUrl,headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}}).post("update-student",i).then((function(t){t.data.status?e.$router.push({name:"student"}).then((function(t){e.loaded=1,e.$toast.success("Record saved.")})).catch((function(t){e.loaded=1,console.log(t)})):(e.loaded=1,e.errors=t.data.errors)})).catch((function(t){e.loaded=1,console.log(t)}))}},watch:{image:function(){this.user.image=this.image},"$route.params.id":function(){this.firstLoad()}}},d=(a(23),a(0)),u=Object(d.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-content-one"},[a("div",{staticClass:"breadcrumbs-area"},[a("div",{staticClass:"float-right"},[a("router-link",{staticClass:"fw-btn-fill btn-gradient-yellow text-white",attrs:{to:{name:"ViewStudent"}}},[e._v("View Student")])],1),e._v(" "),a("h3",[e._v(e._s(e.id?"Edit":"Add")+" Student")]),e._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:{name:"dashboard"}}},[e._v("Dashboard")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:{name:"ViewStudent"}}},[e._v("Student")])],1),e._v(" "),a("li",[e._v(e._s(e.id?"Edit":"Add")+" Student")])])]),e._v(" "),a("div",{staticClass:"card mb-3 h-auto"},[a("div",{staticClass:"step-wizard-tabs card-body"},[a("ul",[a("li",{staticClass:"current"},[a("a",{attrs:{href:"#general-info"},on:{click:function(t){return e.scrollToSection("#general-info")}}},[a("span",{staticClass:"step-no"},[e._v("1")]),e._v(" General Info")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#admission-info"},on:{click:function(t){return e.scrollToSection("#admission-info")}}},[a("span",{staticClass:"step-no"},[e._v("2")]),e._v(" Admission Info")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#documents-info"},on:{click:function(t){return e.scrollToSection("#documents-info")}}},[a("span",{staticClass:"step-no"},[e._v("2")]),e._v(" Student Documents")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#gaurdian-info"},on:{click:function(t){return e.scrollToSection("#gaurdian-info")}}},[a("span",{staticClass:"step-no"},[e._v("3")]),e._v(" Guardian Info")])])])])]),e._v(" "),e.errors.length?a("div",{staticClass:"alert alert-danger mb-2"},[a("ul",{staticClass:"mb-0"},e._l(e.errors,(function(t,r){return a("li",{key:r},[e._v(e._s(t))])})),0)]):e._e(),e._v(" "),a("div",{staticClass:"step-wizard-panels"},[a("div",{staticClass:"card height-auto",attrs:{id:"general-info"}},[a("div",{staticClass:"card-body"},[e.loaded?e._e():a("div",{staticClass:"text-center"},[a("img",{staticStyle:{"max-width":"100%"},attrs:{src:"img/preloader.gif",alt:""}})]),e._v(" "),e.loaded?a("div",[e._m(0),e._v(" "),a("b-form",{attrs:{method:"post"},on:{submit:function(t){t.preventDefault(),e.$route.params.id?e.updateUser():e.addUser()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[a("label",[e._v("Mobile No.")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.mobile.$model,expression:"$v.user.mobile.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.mobile.$error},attrs:{type:"tel"},domProps:{value:e.$v.user.mobile.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.mobile,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(e.$v.user.mobile.required?"Enter valid 10 digit mobile no.":"This is a required field."))])],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[a("label",[e._v("Login *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.login.$model,expression:"$v.user.login.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.login.$error},attrs:{type:"text"},domProps:{value:e.$v.user.login.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.login,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[a("label",[e._v("Password *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.password.$model,expression:"$v.user.password.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.password.$error},attrs:{type:"password",id:"userPassword"},domProps:{value:e.$v.user.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("i",{staticClass:"far fa fa-eye passwordToggle input-icon",staticStyle:{cursor:"pointer"}}),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[a("label",[e._v("Â ")]),e._v(" "),a("button",{staticClass:"btn-fill-lg bg-blue-dark btn-hover-yellow genPassBtn",attrs:{type:"button"}},[e._v("Auto Generate")])])]),e._v(" "),a("div",{staticClass:"heading-layout1"},[a("div",{staticClass:"item-title"},[a("h3",[e._v("User Info")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-9"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-12 form-group"},[a("label",[e._v("Title *")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.title.$model,expression:"$v.user.title.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.title.$error},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.user.title,"$model",t.target.multiple?a:a[0])},function(t){return e.fillName()}]}},[a("option",{attrs:{value:"Mr."}},[e._v("Mr.")]),e._v(" "),a("option",{attrs:{value:"Ms."}},[e._v("Ms.")]),e._v(" "),a("option",{attrs:{value:"Mrs."}},[e._v("Mrs.")])]),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"col-xl-4 col-12 form-group"},[a("label",[e._v("First Name *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.fname.$model,expression:"$v.user.fname.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.fname.$error},attrs:{type:"text"},domProps:{value:e.$v.user.fname.$model},on:{keyup:function(t){return e.fillName()},input:function(t){t.target.composing||e.$set(e.$v.user.fname,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(e.$v.user.fname.required?"Please enter only characters.":"This is a required field."))])],1),e._v(" "),a("div",{staticClass:"col-xl-4 col-12 form-group"},[a("label",[e._v("Last Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.lname.$model,expression:"$v.user.lname.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.lname.$error},attrs:{type:"text"},domProps:{value:e.$v.user.lname.$model},on:{keyup:function(t){return e.fillName()},input:function(t){t.target.composing||e.$set(e.$v.user.lname,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please enter only characters.")])],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v("Display Name *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.name.$model,expression:"$v.user.name.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.name.$error},attrs:{type:"text"},domProps:{value:e.$v.user.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.name,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 col-12 form-group"},[a("label",[e._v("Date of Birth *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.dob.$model,expression:"$v.user.dob.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.dob.$error},attrs:{type:"date"},domProps:{value:e.$v.user.dob.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.dob,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"col-xl-4 form-group"},[a("label",[e._v("Gender *")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.gender.$model,expression:"$v.user.gender.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.gender.$error},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.user.gender,"$model",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Male"}},[e._v("Male")]),e._v(" "),a("option",{attrs:{value:"Female"}},[e._v("Female")]),e._v(" "),a("option",{attrs:{value:"Other"}},[e._v("Other")])]),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"col-xl-4 col-12 form-group"},[a("label",[e._v("Email Address")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.email.$model,expression:"$v.user.email.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.email.$error},attrs:{type:"email"},domProps:{value:e.$v.user.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.email,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please enter valid email.")])],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v("Address Line 1 *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.address1.$model,expression:"$v.user.address1.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.address1.$error},attrs:{type:"text"},domProps:{value:e.$v.user.address1.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.address1,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v("Address Line 2")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.address2,expression:"user.address2"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.user.address2},on:{input:function(t){t.target.composing||e.$set(e.user,"address2",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-4 form-group"},[a("label",[e._v("City *")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.city_id.$model,expression:"$v.user.city_id.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.city_id.$error},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.user.city_id,"$model",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Select City")]),e._v(" "),e._l(e.states,(function(t,r){return a("optgroup",{key:r,attrs:{label:t.name}},e._l(t.cities,(function(t,r){return a("option",{key:r,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)}))],2),e._v(" "),a("b-form-invalid-feedback",[e._v("This is a required field.")])],1),e._v(" "),a("div",{staticClass:"col-xl-4 col-12 form-group"},[a("label",[e._v("Pincode *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.user.pin_code.$model,expression:"$v.user.pin_code.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.user.pin_code.$error},attrs:{type:"tel"},domProps:{value:e.$v.user.pin_code.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.user.pin_code,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v(e._s(e.$v.user.pin_code.required?"Please enter valid 6 digit postcode.":"This is a required field."))])],1)])]),e._v(" "),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"mb-3"},[a("label",[e._v("Upload Image")]),e._v(" "),a("img",{staticClass:"w-100 featuredImage",attrs:{src:e.image_src,alt:"",title:"",id:"featuredImage"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.image,expression:"user.image"}],attrs:{type:"hidden",value:"",id:"featuredImageId"},domProps:{value:e.user.image},on:{input:function(t){t.target.composing||e.$set(e.user,"image",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"uploadImage btn-fill-lg bg-blue-dark btn-hover-yellow btn-block uploadImageBtn",attrs:{type:"button","data-image":"#featuredImage","data-field":"#featuredImageId"}},[e._v("Upload Image")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"}),e._v(" "),a("div",{staticClass:"col-6 form-group mg-t-8 text-right"},[a("button",{staticClass:"btn-fill-lg btn-gradient-yellow btn-hover-bluedark",attrs:{type:"submit"}},[e._v(e._s(e.$route.params.id?"Update":"Save"))])])])])],1):e._e()])]),e._v(" "),e.id?a("div",{staticClass:"card height-auto",attrs:{id:"admission-info"}},[a("div",{staticClass:"card-body"},[e.loaded?e._e():a("div",{staticClass:"text-center"},[a("img",{staticStyle:{"max-width":"100%"},attrs:{src:"img/preloader.gif",alt:""}})]),e._v(" "),e.loaded?a("div",[a("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.updateStudent()}}},[e._m(1),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-12 form-group"},[a("label",[e._v("Enrollment No. *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.student.reg_no.$model,expression:"$v.student.reg_no.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.student.reg_no.$error},attrs:{type:"text"},domProps:{value:e.$v.student.reg_no.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.student.reg_no,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please enter Entrollment No.")])],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-12 form-group"},[a("label",[e._v("Roll No.")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.student.roll_no,expression:"student.roll_no",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.student.roll_no},on:{input:function(t){t.target.composing||e.$set(e.student,"roll_no",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"col-xl-3 col-12 form-group"},[a("label",[e._v("Blood Group")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.student.blood_group,expression:"student.blood_group",modifiers:{trim:!0}}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.student,"blood_group",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Select Bloog Group")]),e._v(" "),a("option",{attrs:{value:"A+"}},[e._v("A+")]),e._v(" "),a("option",{attrs:{value:"A-"}},[e._v("A-")]),e._v(" "),a("option",{attrs:{value:"B+"}},[e._v("B+")]),e._v(" "),a("option",{attrs:{value:"B-"}},[e._v("B-")]),e._v(" "),a("option",{attrs:{value:"AB+"}},[e._v("AB+")]),e._v(" "),a("option",{attrs:{value:"AB-"}},[e._v("AB-")]),e._v(" "),a("option",{attrs:{value:"O+"}},[e._v("O+")]),e._v(" "),a("option",{attrs:{value:"O-"}},[e._v("O-")]),e._v(" "),a("option",{attrs:{value:"Do not know"}},[e._v("Don't know")])])]),e._v(" "),a("div",{staticClass:"col-xl-3 form-group"},[a("label",[e._v("Category *")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.student.category.$model,expression:"$v.student.category.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.student.category.$error},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.student.category,"$model",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Select Category")]),e._v(" "),a("option",{attrs:{value:"General"}},[e._v("General")]),e._v(" "),a("option",{attrs:{value:"OBC"}},[e._v("OBC")]),e._v(" "),a("option",{attrs:{value:"SBC"}},[e._v("SBC")]),e._v(" "),a("option",{attrs:{value:"SC"}},[e._v("SC")]),e._v(" "),a("option",{attrs:{value:"ST"}},[e._v("ST")]),e._v(" "),a("option",{attrs:{value:"Other"}},[e._v("Other")])]),e._v(" "),a("b-form-invalid-feedback",[e._v("Please select category")])],1)]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-12 form-group"},[a("label",[e._v("Religion *")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.student.religion.$model,expression:"$v.student.religion.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.student.religion.$error},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.student.religion,"$model",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Select Religion")]),e._v(" "),e._l(e.religions,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2),e._v(" "),a("b-form-invalid-feedback",[e._v("Please select religion.")])],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-12 form-group"},[a("label",[e._v("Cast *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.student.cast.$model,expression:"$v.student.cast.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.student.cast.$error},attrs:{type:"text"},domProps:{value:e.$v.student.cast.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.student.cast,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please enter student's cast")])],1),e._v(" "),a("div",{staticClass:"col-xl-3 col-12 form-group"},[a("label",[e._v("Class / Section *")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.$v.student.section.$model,expression:"$v.student.section.$model"}],staticClass:"form-control",class:{"is-invalid":e.$v.student.section.$error},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.student.section,"$model",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Select Section")]),e._v(" "),e._l(e.classes,(function(t,r){return a("optgroup",{key:r,attrs:{label:t.dept.dept_name+" - "+t.name}},e._l(t.sections,(function(r){return a("option",{key:r.id,domProps:{value:r.id}},[e._v(e._s(t.name)+" - "+e._s(r.name)+" ("+e._s(t.dept.dept_name)+")")])})),0)}))],2),e._v(" "),a("b-form-invalid-feedback",[e._v("Please select your class and section")])],1)]),e._v(" "),e._m(2)])]):e._e()])]):e._e(),e._v(" "),e.id?a("div",{staticClass:"card height-auto",attrs:{id:"documents-info"}},[a("div",{staticClass:"card-body"},[e.loaded?a("div",[e._m(3),e._v(" "),a("form",{attrs:{method:"post",enctype:"multipart/form-data"}},e._l(e.certificates,(function(t,r){return a("div",{key:r,staticClass:"row mb-2"},[a("div",{staticClass:"col-6"},[e._v("\n                                    "+e._s(t.en_name)+" "),t.short_name?a("span",[e._v(" - "+e._s(t.short_name))]):e._e(),e._v(" ("+e._s(t.hi_name)+")\n\n                                    "),e.user_certificates[t.id]?a("a",{attrs:{href:e.user_certificates[t.id],target:"_blank"}},[e._v("VIEW / DOWNLOAD FILE")]):e._e()]),e._v(" "),a("div",[a("input",{attrs:{type:"file","data-id":t.id},on:{change:e.handleFile}})])])})),0)]):e._e()])]):e._e(),e._v(" "),e.id?a("div",{staticClass:"card height-auto",attrs:{id:"gaurdian-info"}},[a("div",{staticClass:"card-body"},[e.loaded?e._e():a("div",{staticClass:"text-center"},[a("img",{staticStyle:{"max-width":"100%"},attrs:{src:"img/preloader.gif",alt:""}})]),e._v(" "),e.loaded?a("div",[a("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.updateParentInfo()}}},[e._m(4),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-12 form-group"},[a("label",[e._v("Father *")]),e._v(" "),a("multiselect",{class:{"is-invalid":e.$v.father.$error},attrs:{"deselect-label":"Can't remove this value","track-by":"id","custom-label":e.nameWithMobile,placeholder:"Select Father Name",options:e.guardians.father?e.guardians.father:[],searchable:!0,"allow-empty":!1},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var a=t.option;return[e._v("\n                                            "+e._s(a.name)+" "+e._s(a.mobile)+"\n                                        ")]}}],null,!1,2956381231),model:{value:e.$v.father.$model,callback:function(t){e.$set(e.$v.father,"$model",t)},expression:"$v.father.$model"}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please select father's name")])],1),e._v(" "),a("div",{staticClass:"col-xl-2 col-lg-6 col-12 form-group"},[a("label",[e._v("Â ")]),e._v(" "),a("button",{staticClass:"btn btn-lg btn-success btn-block",attrs:{type:"button","data-source":"father"},on:{click:function(t){return e.openParentModal("father")}}},[e._v("Add New")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-12 form-group"},[a("label",[e._v("Mother *")]),e._v(" "),a("multiselect",{class:{"is-invalid":e.$v.mother.$error},attrs:{"deselect-label":"Can't remove this value","track-by":"mobile","custom-label":e.nameWithMobile,placeholder:"Select Mother Name",options:e.guardians.mother?e.guardians.mother:[],searchable:!0,"allow-empty":!1},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var a=t.option;return[e._v("\n                                            "+e._s(a.name)+" "+e._s(a.mobile)+"\n                                        ")]}}],null,!1,2956381231),model:{value:e.$v.mother.$model,callback:function(t){e.$set(e.$v.mother,"$model",t)},expression:"$v.mother.$model"}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please select mother's name")])],1),e._v(" "),a("div",{staticClass:"col-xl-2 col-lg-6 col-12 form-group"},[a("label",[e._v("Â ")]),e._v(" "),a("button",{staticClass:"btn btn-lg btn-success btn-block",attrs:{type:"button","data-source":"mother"},on:{click:function(t){return e.openParentModal("mother")}}},[e._v("Add New")])])]),e._v(" "),e._m(5),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[a("label",[e._v("Relation *")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.$v.relation.$model,expression:"$v.relation.$model"}],staticClass:"form-control",class:{"is-invalid":e.$v.relation.$error},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.relation,"$model",t.target.multiple?a:a[0])},function(t){return e.changeRelationName()}]}},[a("option",{attrs:{value:""}},[e._v("Select Relation")]),e._v(" "),a("option",{attrs:{value:"father"}},[e._v("Father")]),e._v(" "),a("option",{attrs:{value:"mother"}},[e._v("Mother")]),e._v(" "),a("option",{attrs:{value:"other"}},[e._v("Other")])]),e._v(" "),a("b-form-invalid-feedback",[e._v("Please select any one option")])],1),e._v(" "),a("div",{staticClass:"col-xl-5 col-lg-6 col-12 form-group"},[a("label",[e._v("Relation Name (if Other Selected)")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.parent.guardian_relation.$model,expression:"$v.parent.guardian_relation.$model"}],staticClass:"form-control",class:{"is-invalid":e.$v.parent.guardian_relation.$error},attrs:{type:"text"},domProps:{value:e.$v.parent.guardian_relation.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.parent.guardian_relation,"$model",t.target.value)}}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please enter relation name")])],1)]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-6 col-lg-6 col-12 form-group"},[a("label",[e._v("Guardian *")]),e._v(" "),a("multiselect",{class:{"is-invalid":e.$v.guardian.$error},attrs:{"deselect-label":"Can't remove this value","track-by":"name","custom-label":e.nameWithMobile,placeholder:"Select Guardian Name",options:e.guardians.all?e.guardians.all:[],searchable:!0,"allow-empty":!1},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var a=t.option;return[e._v("\n                                            "+e._s(a.name)+" "+e._s(a.mobile)+"\n                                        ")]}}],null,!1,2956381231),model:{value:e.$v.guardian.$model,callback:function(t){e.$set(e.$v.guardian,"$model",t)},expression:"$v.guardian.$model"}}),e._v(" "),a("b-form-invalid-feedback",[e._v("Please select guardian")])],1),e._v(" "),"other"==e.relation?a("div",{staticClass:"col-xl-2 col-lg-6 col-12 form-group"},[a("label",[e._v("Â ")]),e._v(" "),a("button",{staticClass:"btn btn-lg btn-success btn-block",attrs:{type:"button","data-source":"guardian"},on:{click:function(t){return e.openParentModal("guardian")}}},[e._v("Add New")])]):e._e()]),e._v(" "),e._m(6)])]):e._e()])]):e._e()]),e._v(" "),a("div",{staticClass:"modal align-middle",attrs:{id:"guardianModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[e._m(7),e._v(" "),a("div",{staticClass:"modal-body"},[a("b-form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.addParent()}}},[a("input",{attrs:{type:"hidden",id:"userSource",value:""}}),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.parentName,expression:"parentName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.parentName},on:{input:function(t){t.target.composing||(e.parentName=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.parentType,expression:"parentType"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Type",readonly:""},domProps:{value:e.parentType},on:{input:function(t){t.target.composing||(e.parentType=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.parentMobile,expression:"parentMobile"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Mobile No."},domProps:{value:e.parentMobile},on:{input:function(t){t.target.composing||(e.parentMobile=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.parentPassword,expression:"parentPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.parentPassword},on:{input:function(t){t.target.composing||(e.parentPassword=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group text-center"},[a("button",{staticClass:"btn btn-lg btn-info btnReflectPassword",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-check"}),e._v(" Â  Â  Submit")])])])],1)])])]),e._v(" "),a("div",{staticClass:"modal align-middle",attrs:{id:"generatePasswordModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[e._m(8),e._v(" "),e._m(9),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-info btnReflectPassword",attrs:{disabled:""},on:{click:function(t){return e.fillPassword()}}},[e._v("Okay")])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading-layout1"},[t("div",{staticClass:"item-title"},[t("h3",[this._v("Login Info")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading-layout1"},[t("div",{staticClass:"item-title"},[t("h3",[this._v("Admission Info")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"}),this._v(" "),t("div",{staticClass:"col-6 form-group mg-6-8 text-right"},[t("button",{staticClass:"btn-fill-lg btn-gradient-yellow btn-hover-bluedark",attrs:{type:"submit"}},[this._v("Save")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading-layout1"},[t("div",{staticClass:"item-title"},[t("h3",[this._v("Student Documents")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading-layout1"},[t("div",{staticClass:"item-title"},[t("h3",[this._v("Parents Info")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"heading-layout1"},[t("div",{staticClass:"item-title"},[t("h3",[this._v("Guardian Info")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"}),this._v(" "),t("div",{staticClass:"col-6 form-group mg-t-8 text-right"},[t("button",{staticClass:"btn-fill-lg btn-gradient-yellow btn-hover-bluedark",attrs:{type:"submit"}},[this._v("Save")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[this._v("Add Gaurdian")]),this._v(" "),t("button",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[this._v("Ã—")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[this._v("Generate Password")]),this._v(" "),t("button",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[this._v("Ã—")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-body"},[t("div",{staticClass:"input-group mb-3"},[t("input",{staticClass:"form-control",attrs:{type:"text",id:"generatedPassword"}}),this._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-outline-secondary genPassBtn",attrs:{type:"button"}},[this._v("Generate")])])]),this._v(" "),t("div",{},[t("label",[t("input",{attrs:{type:"checkbox",id:"copyConfirm",value:"1"}}),this._v(" Have you copied password?\n                        ")])])])}],!1,null,null,null);t.default=u.exports}}]);