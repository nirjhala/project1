(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{374:function(e,t,n){"use strict";var o=n(65);n.n(o).a},375:function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"label[data-v-45bce684]{text-transform:capitalize}",""])},548:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n(1),r={data:function(){return{deduction:{gender:"Male",from_amount:"",to_amount:"",type:"percent",name:"",percent:5,amount:""},percentages:[],payroll_masters:{},success:null,errors:[],loaded:0}},validations:function(){return{deduction:{to_amount:{required:o.required},name:{required:o.required},amount:{required:o.required}}}},mounted:function(){this.routeLoading(),this.fetch_payroll_master();var e=1;do{this.percentages.push(e),e<10?e++:e+=5}while(e<=50);this.deduction.percent=1},methods:{routeLoading:function(){this.$route.params.id?this.getInfo():this.loaded=1},fetch_last_deduction:function(){var e=this;!this.$route.params.id&&this.deduction.gender&&this.deduction.name&&Object(a.wc)(this.deduction.gender,this.deduction.name).then((function(t){e.deduction.from_amount=t.data}))},fetch_payroll_master:function(){var e=this;Object(a.cc)("deduction").then((function(t){e.payroll_masters=t.data}))},getInfo:function(){var e=this;this.loaded=0,Object(a.Ib)(this.$route.params.id).then((function(t){e.deduction=t.data,e.loaded=1}))},saveData:function(){var e=this;if(this.$v.$touch(),!this.$v.$anyError){this.loaded=0;var t={deduction:this.deduction};this.$route.params.id?Object(a.K)(this.$route.params.id,t).then((function(t){e.loaded=1,e.$router.push({name:"PayrollDeduction"})})).catch((function(t){e.loaded=1,console.log(t)})):Object(a.g)(t).then((function(t){e.loaded=1,e.$router.push({name:"PayrollDeduction"})})).catch((function(t){e.loaded=1,console.log(t)}))}}},watch:{"$route.params.id":function(){this.routeLoading()},"deduction.type":function(e){if("percent"==e){this.percentages=[];var t=1;do{this.percentages.push(t),t<10?t++:t+=5}while(t<=50);this.deduction.percent=1}else this.percentages.push(0),this.deduction.percent=0;this.fetch_employees()},"deduction.gender":function(){this.fetch_last_deduction()},"deduction.name":function(){this.fetch_last_deduction()}}},i=(n(374),n(0)),d=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-content-one"},[n("div",{staticClass:"breadcrumbs-area"},[n("div",{staticClass:"float-right"},[n("router-link",{staticClass:"fw-btn-fill btn-gradient-yellow text-white",attrs:{to:{name:"PayrollDeduction"}}},[e._v("View Deduction")])],1),e._v(" "),n("h3",[e._v(e._s(e.$route.params.id?"Edit":"Add")+" Deduction")]),e._v(" "),n("ul",[n("li",[n("router-link",{attrs:{to:{name:"dashboard"}}},[e._v("Dashboard")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:{name:"PayrollMaster"}}},[e._v("Payroll Management Master")])],1),e._v(" "),n("li",[n("router-link",{attrs:{to:{name:"PayrollDeduction"}}},[e._v("Deduction")])],1),e._v(" "),n("li",[e._v(e._s(e.$route.params.id?"Edit":"Add")+" Deduction")])])]),e._v(" "),n("b-card",{staticClass:"h-auto",attrs:{title:e.$route.params.id?"Edit Deduction":"Create Deduction"}},[n("b-form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.saveData(t)}}},[n("b-row",[n("b-form-group",{staticClass:"col-sm-4",attrs:{label:"Gender *"}},[n("label",{staticClass:"mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.deduction.gender,expression:"deduction.gender"}],attrs:{type:"radio",name:"gender",value:"Male"},domProps:{checked:e._q(e.deduction.gender,"Male")},on:{change:function(t){return e.$set(e.deduction,"gender","Male")}}}),e._v("\n                        Male\n                    ")]),e._v(" "),n("label",{staticClass:"mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.deduction.gender,expression:"deduction.gender"}],attrs:{type:"radio",name:"gender",value:"Female"},domProps:{checked:e._q(e.deduction.gender,"Female")},on:{change:function(t){return e.$set(e.deduction,"gender","Female")}}}),e._v("\n                        Female\n                    ")]),e._v(" "),n("label",{staticClass:"mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.deduction.gender,expression:"deduction.gender"}],attrs:{type:"radio",name:"gender",value:"Other"},domProps:{checked:e._q(e.deduction.gender,"Other")},on:{change:function(t){return e.$set(e.deduction,"gender","Other")}}}),e._v("\n                        Other\n                    ")])]),e._v(" "),n("b-form-group",{staticClass:"col-sm-4",attrs:{label:"Select Deduction"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.$v.deduction.name.$model,expression:"$v.deduction.name.$model"}],staticClass:"form-control",class:{"is-invalid":e.$v.deduction.name.$error},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.deduction.name,"$model",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("Select Name")]),e._v(" "),e._l(e.payroll_masters,(function(t,o){return n("option",{key:o,domProps:{value:t}},[e._v(e._s(t))])}))],2),e._v(" "),n("b-form-invalid-feedback",[e._v("Please enter required field.")])],1),e._v(" "),n("b-form-group",{staticClass:"col-sm-2",attrs:{label:"From Salary Amount"}},[n("b-input",{attrs:{type:"number",placeholder:"From Salary Amount",readonly:""},model:{value:e.deduction.from_amount,callback:function(t){e.$set(e.deduction,"from_amount",t)},expression:"deduction.from_amount"}})],1),e._v(" "),n("b-form-group",{staticClass:"col-sm-2",attrs:{label:"To Salary Amount"}},[n("b-input",{class:{"is-invalid":e.$v.deduction.to_amount.$error},attrs:{type:"number",placeholder:"To Salary Amount"},model:{value:e.$v.deduction.to_amount.$model,callback:function(t){e.$set(e.$v.deduction.to_amount,"$model",t)},expression:"$v.deduction.to_amount.$model"}}),e._v(" "),n("b-form-invalid-feedback",[e._v("Please enter required field.")])],1),e._v(" "),n("b-form-group",{staticClass:"col-sm-4",attrs:{label:"Type"}},[n("label",{staticClass:"mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.deduction.type,expression:"deduction.type"}],attrs:{type:"radio",name:"type",value:"percent"},domProps:{checked:e._q(e.deduction.type,"percent")},on:{change:function(t){return e.$set(e.deduction,"type","percent")}}}),e._v("\n                        Percent\n                    ")]),e._v(" "),n("label",{staticClass:"mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.deduction.type,expression:"deduction.type"}],attrs:{type:"radio",name:"type",value:"fixed"},domProps:{checked:e._q(e.deduction.type,"fixed")},on:{change:function(t){return e.$set(e.deduction,"type","fixed")}}}),e._v("\n                        Fixed\n                    ")])]),e._v(" "),n("b-form-group",{staticClass:"col-sm-4",attrs:{label:"Percent"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.deduction.percent,expression:"deduction.percent"}],staticClass:"form-control",attrs:{disabled:"fixed"==e.deduction.type},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.deduction,"percent",t.target.multiple?n:n[0])}}},e._l(e.percentages,(function(t,o){return n("option",{key:o,domProps:{value:t}},[e._v(e._s(t))])})),0)]),e._v(" "),n("b-form-group",{staticClass:"col-sm-4",attrs:{label:"Amount (upto)"}},[n("b-input",{class:{"is-invalid":e.$v.deduction.amount.$error},attrs:{placeholder:"Enter Amount"},model:{value:e.$v.deduction.amount.$model,callback:function(t){e.$set(e.$v.deduction.amount,"$model",t)},expression:"$v.deduction.amount.$model"}}),e._v(" "),n("b-form-invalid-feedback",[e._v("Please enter required field.")])],1)],1),e._v(" "),n("button",{staticClass:"btn-fill-lg btn-gradient-yellow btn-hover-bluedark",attrs:{type:"submit"}},[e._v(e._s(e.$route.params.id?"Update":"Save"))]),e._v(" "),n("button",{staticClass:"btn-fill-lg bg-blue-dark btn-hover-yellow",attrs:{type:"reset"}},[e._v("Reset")])],1)],1)],1)}),[],!1,null,"45bce684",null);t.default=d.exports},65:function(e,t,n){var o=n(375);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(8)(o,a);o.locals&&(e.exports=o.locals)}}]);