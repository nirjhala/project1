(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{597:function(t,e,s){"use strict";s.r(e);var a=s(4),i={data:function(){return{errors:0,lists:{},allSelected:0,check:[],s:"",allClasses:[],classes:[],loaded:0,bookId:"",token:localStorage.getItem("token")}},mounted:function(){this.getRecords()},methods:{searchAfterDebounce:s.n(a).a.debounce((function(){this.searchData()}),500),checkAll:function(){var t=this;t.check=[],t.allSelected||$.each(t.lists.data,(function(e,s){t.check.push(s.id)}))},searchData:function(t){var e=this,s=this.s;void 0===t&&(t=1),this.loaded=0,axios.create({baseURL:this.apiBaseUrl,headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}}).get("lms/book/search-issue-history/?page="+t+"&s="+s).then((function(t){e.loaded=1,t.status?e.lists=t.data:e.errors=1})).catch((function(t){e.loaded=1,console.log(t)}))},getRecords:function(t){var e=this;void 0===t&&(t=1),axios.create({baseURL:this.apiBaseUrl,headers:{Authorization:"Bearer "+this.token,Accept:"application/json"}}).get("lms/book/issue-history/?page="+t).then((function(t){e.loaded=1,t.status?e.lists=t.data:e.errors=1})).catch((function(t){e.loaded=1,console.log(t)}))}},watch:{s:function(t){this.searchAfterDebounce()}}},o=s(0),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard-content-one"},[s("div",{staticClass:"breadcrumbs-area"},[s("div",{staticClass:"float-right"},[s("router-link",{staticClass:"fw-btn-fill btn-gradient-yellow text-white",attrs:{to:{name:"add-book"}}},[t._v("Add New")])],1),t._v(" "),s("h3",[t._v("Issue History")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Dashboard")])],1),t._v(" "),s("li",[t._v("Issue History")])])]),t._v(" "),s("div",{staticClass:"mg-b-20"},[s("div",{staticClass:"row gutters-8"},[s("div",{staticClass:"col-4-xxxl col-xl-4 col-lg-3 col-12 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.s,expression:"s"}],staticClass:"form-control bg-white",attrs:{type:"text",placeholder:"Search ..."},domProps:{value:t.s},on:{input:function(e){e.target.composing||(t.s=e.target.value)}}})])])]),t._v(" "),s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.deleteRecord()}}},[s("div",{staticClass:"card height-auto"},[s("div",{staticClass:"card-body"},[t.loaded?t._e():s("div",{staticClass:"text-center"},[s("b-spinner")],1),t._v(" "),t.loaded?s("div",[t._m(0),t._v(" "),t.lists.data?t._e():s("div",{staticClass:"alert alert-warning"},[s("i",{staticClass:"fa fa-exclamation-circle"}),t._v("\n            No record(s) found.\n          ")]),t._v(" "),t.lists.data?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table display data-table text-nowrap"},[t._m(1),t._v(" "),s("tbody",t._l(t.lists.data,(function(e,a){return s("tr",{key:t.lists.from+a},[s("td",[t._v(t._s(e.user.name))]),t._v(" "),s("td",[t._v("\n                    "+t._s(e.user.mobile)+"\n                    "),e.user.mobile2?s("span",[t._v(", "+t._s(e.user.mobile2))]):t._e()]),t._v(" "),s("td",[t._v(t._s(e.user.type))]),t._v(" "),s("td",[t._v(t._s(e.book.title))]),t._v(" "),s("td",[t._v(t._s(e.created_at))]),t._v(" "),s("td",[t._v("\n                    "+t._s(e.submission_date?e.submission_date:"-")+"\n                  ")])])})),0)]),t._v(" "),s("pagination",{attrs:{data:t.lists},on:{"pagination-change-page":t.getRecords}})],1):t._e()]):t._e()])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"heading-layout1"},[e("div",{staticClass:"item-title"},[e("h3",[this._v("Issue History")])]),this._v(" "),e("button",{staticClass:"btn btn-link text-dark removeBtn",attrs:{type:"submit","data-toggle":"tooltip",title:"Remove"}},[e("i",{staticClass:"fa fa-trash fa-2x"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Contact")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Book Details")]),t._v(" "),s("th",[t._v("Issue Date")]),t._v(" "),s("th",[t._v("Submit Date")])])])}],!1,null,null,null);e.default=n.exports}}]);