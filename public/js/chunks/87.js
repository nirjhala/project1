(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{14:function(t,e,s){"use strict";s.d(e,"e",(function(){return c})),s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return l})),s.d(e,"a",(function(){return i})),s.d(e,"d",(function(){return o}));var a=s(5),c=function(t){return Object(a.a)("get","view-class/?".concat(t))},n=function(t){return Object(a.a)("post","remove-class",t)},l=function(t){return Object(a.a)("get","get-class-info/".concat(t))},i=function(t){return Object(a.a)("post","add-class",t)},o=function(t){return Object(a.a)("post","update-class",t)}},25:function(t,e,s){"use strict";s.d(e,"f",(function(){return c})),s.d(e,"c",(function(){return n})),s.d(e,"d",(function(){return l})),s.d(e,"a",(function(){return i})),s.d(e,"e",(function(){return o})),s.d(e,"b",(function(){return r}));var a=s(5),c=function(t){return Object(a.a)("get","view-subject/?".concat(t))},n=function(t){return Object(a.a)("post","remove-subject",t)},l=function(t){return Object(a.a)("get","get-subject-info/".concat(t))},i=function(t){return Object(a.a)("post","add-subject",t)},o=function(t){return Object(a.a)("post","update-subject",t)},r=function(t){return Object(a.a)("post","assign-subject-class",t)}},480:function(t,e,s){"use strict";s.r(e);var a=s(4),c=s.n(a),n=s(25),l=s(14),i={components:{Breadcrumbs:s(9).a},data:function(){return{title:"View Subject",b_items:[{target:{name:"dashboard"},title:"Dashboard"},{target:{name:"master"},title:"Master"}],errors:0,lists:{},allSelected:0,check:[],s:"",allClasses:[],classes:[],loaded:0,subjectId:""}},mounted:function(){this.getRecords(),this.getAllClasses()},methods:{searchAfterDebounce:c.a.debounce((function(){this.getRecords()}),500),checkAll:function(){var t=this;t.check=[],t.allSelected||$.each(t.lists.data,(function(e,s){t.check.push(s.id)}))},assignClass:function(){var t=this,e=this.classes,s=this.subjectId;this.loaded=0;var a={classes:e,subjectId:s};Object(n.b)(a).then((function(e){t.loaded=1,$("#classModal").modal("hide"),t.getRecords(1)}))},showClassPop:function(t,e){this.subjectId=t;var s=[];$(e).each((function(t,e){s.push(e.class)})),this.classes=s,$("#classModal").modal("show")},getAllClasses:function(){var t=this;this.loaded=0,Object(l.e)("type=all").then((function(e){t.loaded=1,t.allClasses=e.data}))},getRecords:function(t){var e=this;void 0===t&&(t=1),this.loaded=0,Object(n.f)("page=".concat(t,"&s=").concat(this.s)).then((function(t){e.loaded=1,t.status?e.lists=t.data.data:e.errors=1})).catch((function(t){e.loaded=1,console.log(t)}))},deleteRecord:function(){var t=this,e={check:this.check};if(!(this.check.length>0))return this.loaded=1,swal("Warning","Please select at least one record to delete.","warning"),!1;swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this record!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(s){s&&(t.loaded=0,Object(n.c)(e).then((function(e){e.status?(t.getRecords(),t.$toast.success("Selected record(s) has been deleted.")):(t.loaded=1,t.$toast.warning("Record(s) unable to delete."))})).catch((function(e){t.loaded=1,console.log(e)})))}))}},watch:{s:function(t){this.searchAfterDebounce()}}},o=s(0),r=Object(o.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard-content-one"},[s("breadcrumbs",{attrs:{items:t.b_items,title:t.title,btn:{target:{name:"add-subject"},label:"Add New Subject"}}}),t._v(" "),s("div",{staticClass:"mg-b-20"},[s("div",{staticClass:"row gutters-8"},[s("div",{staticClass:"col-4-xxxl col-xl-4 col-lg-3 col-12 form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.s,expression:"s"}],staticClass:"form-control bg-white",attrs:{type:"text",placeholder:"Search ..."},domProps:{value:t.s},on:{input:function(e){e.target.composing||(t.s=e.target.value)}}})])])]),t._v(" "),s("form",{attrs:{method:"post"},on:{submit:function(e){return e.preventDefault(),t.deleteRecord()}}},[s("div",{staticClass:"card height-auto"},[s("div",{staticClass:"card-body"},[t.loaded?t._e():s("div",{staticClass:"text-center"},[s("b-spinner")],1),t._v(" "),t.loaded?s("div",[t._m(0),t._v(" "),t.lists?t._e():s("div",{staticClass:"alert alert-warning"},[s("i",{staticClass:"fa fa-exclamation-circle"}),t._v("\n            No record(s) found.\n          ")]),t._v(" "),t.lists?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table display data-table text-nowrap"},[s("thead",[s("tr",[s("th",[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.allSelected,expression:"allSelected"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.allSelected)?t._i(t.allSelected,null)>-1:t.allSelected},on:{click:function(e){return t.checkAll()},change:function(e){var s=t.allSelected,a=e.target,c=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.allSelected=s.concat([null])):n>-1&&(t.allSelected=s.slice(0,n).concat(s.slice(n+1)))}else t.allSelected=c}}}),t._v(" "),s("label",{staticClass:"form-check-label"},[t._v("Sr. No.")])])]),t._v(" "),s("th",[t._v("Subject Name")]),t._v(" "),s("th",[t._v("Classes")])])]),t._v(" "),s("tbody",t._l(t.lists.data,(function(e,a){return s("tr",{key:a},[s("td",[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.check,expression:"check"}],key:t.lists.from+a,staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.check)?t._i(t.check,e.id)>-1:t.check},on:{change:function(s){var a=t.check,c=s.target,n=!!c.checked;if(Array.isArray(a)){var l=e.id,i=t._i(a,l);c.checked?i<0&&(t.check=a.concat([l])):i>-1&&(t.check=a.slice(0,i).concat(a.slice(i+1)))}else t.check=n}}}),t._v(" "),s("label",{staticClass:"form-check-label"},[t._v(t._s(t.lists.from+a)+".")])])]),t._v(" "),s("td",[s("router-link",{attrs:{to:{path:"edit-subject/"+e.id,params:e},"data-toggle":"tooltip",title:"Edit"}},[s("i",{staticClass:"fa fa-edit"}),t._v(" "+t._s(e.name))])],1),t._v(" "),s("td",[e.classes?s("ol",{staticClass:"m-0 p-0",staticStyle:{"list-style":"inside decimal"}},t._l(e.classes,(function(e,a){return s("li",{key:a},[t._v("\n                        "+t._s(e.cls.name)+" - "+t._s(e.cls.dept.dept_name)+"\n                      ")])})),0):t._e(),t._v(" "),s("button",{staticClass:"btn btn-primary addClassBtn",attrs:{type:"button"},on:{click:function(s){return t.showClassPop(e.id,e.classes)}}},[t._v("\n                      Add Class\n                    ")])])])})),0)]),t._v(" "),s("pagination",{attrs:{data:t.lists},on:{"pagination-change-page":t.getRecords}})],1):t._e()]):t._e()])])]),t._v(" "),s("div",{staticClass:"modal align-middle fade",attrs:{id:"classModal"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.subjectId,expression:"subjectId"}],attrs:{type:"hidden"},domProps:{value:t.subjectId},on:{input:function(e){e.target.composing||(t.subjectId=e.target.value)}}}),t._v(" "),s("ul",{staticClass:"list-item-group"},t._l(t.allClasses,(function(e,a){return s("li",{key:a,staticClass:"list-item"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.classes,expression:"classes"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(t.classes)?t._i(t.classes,a)>-1:t.classes},on:{change:function(e){var s=t.classes,c=e.target,n=!!c.checked;if(Array.isArray(s)){var l=a,i=t._i(s,l);c.checked?i<0&&(t.classes=s.concat([l])):i>-1&&(t.classes=s.slice(0,i).concat(s.slice(i+1)))}else t.classes=n}}}),t._v("\n                "+t._s(e)+"\n              ")])])})),0)]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.assignClass()}}},[t._v("\n            Submit\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-info",attrs:{"data-dismiss":"modal"}},[t._v("Close")])])])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"heading-layout1"},[e("div",{staticClass:"item-title"},[e("h3",[this._v("All Subject Data")])]),this._v(" "),e("button",{staticClass:"btn btn-link text-dark removeBtn",attrs:{type:"submit","data-toggle":"tooltip",title:"Remove"}},[e("i",{staticClass:"fa fa-trash fa-2x"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("Assign Classes")]),this._v(" "),e("button",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[this._v("Ã—")])])}],!1,null,null,null);e.default=r.exports},5:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var a=axios.create({baseURL:"/api/",json:!0}),c=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n={Accept:"application/json",Authorization:null};if(c){var l=localStorage.getItem("token");n.Authorization="Bearer "+l}return a({method:t,url:e,data:s,headers:n})}},9:function(t,e,s){"use strict";var a={props:{title:String,items:Array,btn:Object}},c=s(0),n=Object(c.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"breadcrumbs-area"},[s("div",{staticClass:"float-right"},[t.btn?s("router-link",{staticClass:"fw-btn-fill btn-gradient-yellow text-white",attrs:{to:t.btn.target}},[t._v("\n      "+t._s(t.btn.label)+"\n    ")]):t._e()],1),t._v(" "),s("h3",[t._v(t._s(t.title))]),t._v(" "),s("ul",[t._l(t.items,(function(e,a){return s("li",{key:a},[s("router-link",{attrs:{to:e.target,title:e.title}},[t._v("\n        "+t._s(e.title)+"\n      ")])],1)})),t._v(" "),s("li",[t._v(t._s(t.title))])],2)])}),[],!1,null,null,null);e.a=n.exports}}]);