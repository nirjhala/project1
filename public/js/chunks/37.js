(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{23:function(e,t,i){"use strict";i.d(t,"e",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n})),i.d(t,"d",(function(){return c}));var r=i(5),a=function(e){return Object(r.a)("get","view-vehicle/?".concat(e))},l=function(e){return Object(r.a)("post","remove-vehicle",e)},o=function(e){return Object(r.a)("get","get-vehicle-info/".concat(e))},n=function(e){return Object(r.a)("post","add-vehicle",e)},c=function(e){return Object(r.a)("post","update-vehicle",e)}},492:function(e,t,i){"use strict";i.r(t);var r=i(2),a=i(1),l=i(23),o={components:{Breadcrumbs:i(9).a},data:function(){return{title:"Add Vehicle",b_items:[{target:{name:"dashboard"},title:"Dashboard"},{target:{name:"master"},title:"Master"}],id:"",vehicleRc:"",vehicleNumber:"",vechicleType:"",driver:"",drivers:[],errors:[],loaded:0}},validations:{vehicleRc:{required:r.required},vehicleNumber:{required:r.required},vechicleType:{required:r.required},driver:{required:r.required}},mounted:function(){var e=this.$route.params;this.getDrivers(),null!=e.id&&""!=e.id?(this.getInfo(e.id),this.title="Edit Vehicle"):this.loaded=1},methods:{getDrivers:function(){var e=this;Object(a.Nc)("type=all&role=Driver").then((function(t){e.drivers=t.data}))},getInfo:function(e){var t=this;Object(l.c)(e).then((function(e){var i=e.data.data;t.id=i.id,t.vehicleNumber=i.vehicle_no,t.vechicleType=i.type,t.vehicleRc=i.vehicle_rc,t.driver=i.driver,t.loaded=1,$(".select2").each((function(){$(this).trigger("change")}))}))},addData:function(){var e=this;if(this.$v.$touch(),!this.$v.$anyError){var t={driver:this.driver,type:this.vechicleType,vehicle_no:this.vehicleNumber,vehicle_rc:this.vehicleRc};this.loaded=0,Object(l.a)(t).then((function(t){t.data.status?e.$router.push({name:"vehicle"}).then((function(t){e.loaded=1,e.$toast.success("Record saved.")})).catch((function(t){e.loaded=1,console.log(t)})):(e.loaded=1,e.errors=t.data.errors)})).catch((function(t){e.loaded=1,console.log(t)}))}},updateData:function(){var e=this;if(this.$v.$touch(),!this.$v.$anyError){var t={id:this.id,driver:this.driver,type:this.vechicleType,vehicle_no:this.vehicleNumber,vehicle_rc:this.vehicleRc};this.loaded=0,Object(l.d)(t).then((function(t){t.data.status?e.$router.push({name:"vehicle"}).then((function(t){e.loaded=1,e.$toast.success("Record saved.")})).catch((function(t){e.loaded=1,console.log(t)})):(e.loaded=1,e.errors=t.data.errors)})).catch((function(t){e.loaded=1,console.log(t)}))}}}},n=i(0),c=Object(n.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dashboard-content-one"},[i("breadcrumbs",{attrs:{items:e.b_items,title:e.title,btn:{target:{name:"vehicle"},label:"View Vehicle"}}}),e._v(" "),i("div",{staticClass:"card height-auto"},[i("div",{staticClass:"card-body"},[e.loaded?e._e():i("div",{staticClass:"text-center"},[i("b-spinner")],1),e._v(" "),e.loaded?i("div",[i("div",{staticClass:"heading-layout1"},[i("div",{staticClass:"item-title"},[i("h3",[e._v(e._s(e.id?"Edit":"Add New")+" Vehicle")])])]),e._v(" "),i("form",{on:{submit:function(t){t.preventDefault(),e.id?e.updateData():e.addData()}}},[e.errors.length?i("div",{staticClass:"alert alert-danger"},[i("ul",{staticClass:"mb-0"},e._l(e.errors,(function(t,r){return i("li",{key:r},[e._v("\n                "+e._s(t)+"\n              ")])})),0)]):e._e(),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"}],attrs:{type:"hidden",value:""},domProps:{value:e.id},on:{input:function(t){t.target.composing||(e.id=t.target.value)}}}),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[i("label",[e._v("Vehicle Number *")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.vehicleNumber.$model,expression:"$v.vehicleNumber.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.vehicleNumber.$error},attrs:{type:"text",placeholder:"like RJ19 0392",value:""},domProps:{value:e.$v.vehicleNumber.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.vehicleNumber,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Please enter required field.")])],1),e._v(" "),i("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[i("label",[e._v("Type *")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.vechicleType.$model,expression:"$v.vechicleType.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.$v.vechicleType.$error},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.vechicleType,"$model",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("Select Type")]),e._v(" "),i("option",{attrs:{value:"bus"}},[e._v("Bus")]),e._v(" "),i("option",{attrs:{value:"auto"}},[e._v("Auto")]),e._v(" "),i("option",{attrs:{value:"taxi"}},[e._v("Taxi")]),e._v(" "),i("option",{attrs:{value:"van"}},[e._v("Van")]),e._v(" "),i("option",{attrs:{value:"cab"}},[e._v("Cab")]),e._v(" "),i("option",{attrs:{value:"other"}},[e._v("Other")])]),e._v(" "),i("b-form-invalid-feedback",[e._v("Please enter required field.")])],1),e._v(" "),i("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[i("label",[e._v("RC Number *")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.vehicleRc.$model,expression:"$v.vehicleRc.$model"}],staticClass:"form-control",class:{"is-invalid":e.$v.vehicleRc.$error},attrs:{type:"text",placeholder:"Vehicle Registration Certified Number"},domProps:{value:e.$v.vehicleRc.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.vehicleRc,"$model",t.target.value)}}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Please enter required field.")])],1),e._v(" "),i("div",{staticClass:"col-xl-3 col-lg-6 col-12 form-group"},[i("label",[e._v("Driver *")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.$v.driver.$model,expression:"$v.driver.$model"}],staticClass:"form-control",class:{"is-invalid":e.$v.driver.$error},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.$v.driver,"$model",t.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[e._v("Select Driver")]),e._v(" "),e._l(e.drivers,(function(t,r){return i("option",{key:r,domProps:{value:r}},[e._v("\n                  "+e._s(t)+"\n                ")])}))],2),e._v(" "),i("b-form-invalid-feedback",[e._v("Please enter required field.")])],1)]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 form-group mg-t-8"},[i("button",{staticClass:"btn-fill-lg btn-gradient-yellow btn-hover-bluedark",attrs:{type:"submit"}},[e._v("\n                "+e._s(e.id?"Update":"Save")+"\n              ")]),e._v(" "),i("button",{staticClass:"btn-fill-lg bg-blue-dark btn-hover-yellow",attrs:{type:"reset"}},[e._v("\n                Reset\n              ")])])])])]):e._e()])])],1)}),[],!1,null,null,null);t.default=c.exports},5:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=axios.create({baseURL:"/api/",json:!0}),a=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l={Accept:"application/json",Authorization:null};if(a){var o=localStorage.getItem("token");l.Authorization="Bearer "+o}return r({method:e,url:t,data:i,headers:l})}},9:function(e,t,i){"use strict";var r={props:{title:String,items:Array,btn:Object}},a=i(0),l=Object(a.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"breadcrumbs-area"},[i("div",{staticClass:"float-right"},[e.btn?i("router-link",{staticClass:"fw-btn-fill btn-gradient-yellow text-white",attrs:{to:e.btn.target}},[e._v("\n      "+e._s(e.btn.label)+"\n    ")]):e._e()],1),e._v(" "),i("h3",[e._v(e._s(e.title))]),e._v(" "),i("ul",[e._l(e.items,(function(t,r){return i("li",{key:r},[i("router-link",{attrs:{to:t.target,title:t.title}},[e._v("\n        "+e._s(t.title)+"\n      ")])],1)})),e._v(" "),i("li",[e._v(e._s(e.title))])],2)])}),[],!1,null,null,null);t.a=l.exports}}]);